<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Product-Filter</title>
  <link rel="stylesheet" href="styles2.css" />
</head>

<body>
  <!-- products -->
  <section class="products">
    <!-- filters -->
    <div class="filters-container">
      <!-- search -->
      <form class="input-form">
        <input type="text" class="search-input" placeholder="search..." />
      </form>
      <!-- categories -->
      <h5>Company</h5>
      <article class="companies" id="companies">
        <button class="company-btn">all</button>

      </article>
    </div>
    <!-- products -->
    <div class="products-container" id="products">
      <!-- single product -->
      <article class="product">
        <img src="https://dl.airtable.com/.attachments/14ac9e946e1a02eb9ce7d632c83f742f/4fd98e64/product-1.jpeg"
          class="product-img img" alt="" />
        <footer>
          <h5 class="product-name">high-back bench</h5>
          <span class="product-price">$9.99</span>
        </footer>
      </article>
    </div>
  </section>

  <script>

    const products = [
      {
        id: 'rec43w3ipXvP28vog',
        title: 'high-back bench',
        company: 'ikea',
        image:
          'https://dl.airtable.com/.attachments/14ac9e946e1a02eb9ce7d632c83f742f/4fd98e64/product-1.jpeg',
        price: 9.99,
      },
      {
        id: 'rec4f2RIftFCb7aHh',
        title: 'albany table',
        company: 'marcos',
        image:
          'https://dl.airtable.com/.attachments/f3450755e165557344f7d6433242431e/93533098/product-1.jpeg',
        price: 79.99,
      },
      {
        id: 'rec8kkCmSiMkbkiko',
        title: 'accent chair',
        company: 'caressa',
        image:
          'https://dl.airtable.com/.attachments/f292eaec4fea8a791b037c759ae559c9/2d5e34d5/product-4.jpeg',
        price: 25.99,
      },
      {
        id: 'recBohCqQsot4Q4II',
        title: 'wooden table',
        company: 'caressa',
        image:
          'https://dl.airtable.com/.attachments/5b3ad76dfd6ca5e31810cb99141c7ede/69829b2f/pexels-dominika-roseclay-1139785.jpg',
        price: 45.99,
      },
      {
        id: 'recDG1JRZnbpRHpoy',
        title: 'dining table',
        company: 'caressa',
        image:
          'https://dl.airtable.com/.attachments/06bbede65bd09196b4a81a8e7b59e683/8af0aeb5/product-8.jpg',
        price: 6.99,
      },
      {
        id: 'recNWGyP7kjFhSqw3',
        title: 'sofa set',
        company: 'liddy',
        image:
          'https://dl.airtable.com/.attachments/443aa7884207dae7c3cc127262a2f993/d4f33110/product-1.jpeg',
        price: 69.99,
      },
      {
        id: 'recZEougL5bbY4AEx',
        title: 'modern bookshelf',
        company: 'marcos',
        image:
          'https://dl.airtable.com/.attachments/a889b1928b134c2ca0b5bbca32ea9abf/65c8a9a6/product-7.jpg',
        price: 8.99,
      },
      {
        id: 'recjMK1jgTb2ld7sv',
        title: 'emperor bed',
        company: 'liddy',
        image:
          'https://dl.airtable.com/.attachments/10fdf29ae17f2d1f98770ae42584d021/82b9403f/product-6.jpg',
        price: 21.99,
      },
      {
        id: 'recmg2a1ctaEJNZhu',
        title: 'utopia sofa',
        company: 'marcos',
        image:
          'https://dl.airtable.com/.attachments/6ac7f7b55d505057317534722e5a9f03/9183491e/product-3.jpg',
        price: 39.95,
      },
      {
        id: 'recvKMNR3YFw0bEt3',
        title: 'entertainment center',
        company: 'liddy',
        image:
          'https://dl.airtable.com/.attachments/da5e17fd71f50578d525dd5f596e407e/d5e88ac8/product-2.jpg',
        price: 29.98,
      },
      {
        id: 'recxaXFy5IW539sgM',
        title: 'albany sectional',
        company: 'ikea',
        image:
          'https://dl.airtable.com/.attachments/05ecddf7ac8d581ecc3f7922415e7907/a4242abc/product-1.jpeg',
        price: 10.99,
      },
      {
        id: 'recyqtRglGNGtO4Q5',
        title: 'leather sofa',
        company: 'liddy',
        image:
          'https://dl.airtable.com/.attachments/3245c726ee77d73702ba8c3310639727/f000842b/product-5.jpg',
        price: 9.99,
      },
    ];

    // display

    function displayMenu(products) {

      var html = "";

      for (let i = 0; i < products.length; i++) {
        html += `<article class="product">
                <img
                src="${products[i].image}"
                class="product-img img"
                alt=""
                />
                <footer>
                  <h5 class="product-name">${products[i].title}</h5>
                  <span class="product-price">${products[i].price}$</span>
                </footer>
                </article>`;
      }

      document.getElementById("products").innerHTML = html;

    }

    // Map method 

    const myData = products.map(function (value) {
      return (`<button class="company-btn" onclick="test('${value.company}');">${value.company}</button>`)
    });

    myData.unshift(`<button class="company-btn" onclick="All();">All</button>`)

    const newElement = [...new Set(myData)];

    document.getElementById("companies").innerHTML = newElement.join("");

  

    displayMenu(products);

    function All() {

      displayMenu(products);

    }

    function test(data) {

      // if (data == '') {
      //   displayMenu(products);
      // }
      // else { }
      var myFilterData = products.filter(function (value) {

        if(value.company == data) {

          return true;
        }

      });

      displayMenu(myFilterData);

    }

  </script>
</body>

</html>